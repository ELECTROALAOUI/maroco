seajs.config({alias:{ztree:"js/vendor/zTree/jquery.ztree.all-3.5.min.js",ztreeCSS:"css/zTree/zTreeStyle.css",my97:"js/vendor/my97/WdatePicker.js"},paths:{ui:"js/ui"},vars:{locale:"cn"},map:[[/^(.*\.(?:css|js))(.*)$/i,"$1?20150101"]]}),function(a){"use strict";var b={BACKSPACE:8,TAB:9,COMMA:188,DELETE:46,END:35,ENTER:13,ESC:27,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40},c=function(b){return b.$=function(b){return a(b,this.el)},b.el=a(b.el||"<div/>"),b.init&&b.init(),_.each(b.events,function(c,d){var e=d.indexOf(" ");b.el.on(-1==e?d:d.slice(0,e),-1==e?"":a.trim(d.slice(e+1)),function(a){var d=_.isString(c)?b[c]:c;return d?d.call(this,a,b):void 0})}),b.create&&b.create(),b};_.extend(c,{illegalCharacter:/[^\\\/:\*\?\"<>\|]/,count:15,server:seajs.data.base,keyCode:b});var d={webkit:"webkitHidden"in document,ms:"msHidden"in document,moz:"mozHidden"in document,ie:window.ActiveXObject?window.atob?10:document.addEventListener?9:document.querySelector?8:window.XMLHttpRequest?7:6:void 0,chrome:!!window.chrome&&window.chrome.webstore,firefox:!!window.sidebar&&!!window.sidebar.addSearchEngine,safari:/constructor/i.test(window.HTMLElement)};c.browser=d;var e=Object.create||function(a){function b(){}return b.prototype=a,new b};if(_.mixin({guid:function(a){var b,c=_.now().toString(32);for(b=0;5>b;b++)c+=Math.floor(65535*Math.random()).toString(32);return c+=_.uniqueId().toString(32),a?a+c:c},proto:function(a,b){var c=e(a);return b?_.extend(c,b):c},dot:doT.template,queryString:function(b,c,d){var e={};if("string"!=typeof b||0===a.trim(b).length)return e;b=a.trim(b).replace(/^\?+/,"");var f,g,h,i,j=b.split(c||"&"),k=/^(\w+)\[\]$/;d=d||"=";for(var l=0;l<j.length;l++)f=j[l].split(d),g=decodeURIComponent(a.trim(f[0])),h=decodeURIComponent(a.trim(f.slice(1).join(d))),i=g.match(k),i&&i[1]&&(g=i[1]),e.hasOwnProperty(g)?(_.isArray(e[g])||(e[g]=[e[g]]),e[g].push(h)):e[g]=i?[h]:h;return e}}),d.ie<10){var f=/^INPUT|TEXTAREA$/,g=function(a){return f.test(a.nodeName)};a.event.special.input={setup:function(){if(!g(this))return!1;var b=this,c=this.value,e=function(){c!==b.value&&(c=b.value,a.event.trigger("input",null,b))};9==d.ie&&a(b).on("focus._ie9inputFixed",function(){document.addEventListener("selectionchange",e,!1)}).on("blur._ie9inputFixed",function(){document.removeEventListener("selectionchange",e,!1)}),b.attachEvent("onpropertychange",a.data(b,"@inputFixed",function(a){"value"==a.propertyName.toLowerCase()&&e()}))},teardown:function(){return g(this)?(9==d.ie&&a.event.remove(this,"._ie9inputFixed"),this.detachEvent("onpropertychange",a.data(this,"@inputFixed")),void a.removeData(this,"@inputFixed")):!1}}}a.fn.input=function(a){return this.on("input",a)};var h=function(b){return b=a.extend({baseparams:{},beforeLoad:a.noop,afterLoad:a.noop,load:function(c){this.url&&(this.xhr&&this.xhr.abort(),this.beforeLoad(c),c&&(this.filter=c,this.count&&(this.page=c.page||1)),this.xhr=a.ajax({url:this.url,data:a.extend({},this.baseparams,{page:this.page,count:this.count},this.filter),cache:this.cache,dataType:"JSON",success:function(a){b.afterLoad(a)}}))}},b),b.count&&!b.page&&(b.page=1),b};c.loader=h;var i=["log","silver","note","info","safe","warn","care","error","link","dark"],j=c.button=function(b,d){var e=a(b);return void 0===e.data("btype")&&(d=d||_.find(i,function(a){return e.hasClass(a)}),d&&(e.addClass(d+"-hover"),e.mouseenter(function(){a(this).addClass(d+"-hover")}).mouseleave(function(){a(this).removeClass(d+"-hover")}).mousedown(function(b){if(1===b.which){var e=a(this);e.hasClass("active")||(b.preventDefault(),e.addClass(d+"-active"),a(document).one("mouseup",function(){e.removeClass(d+"-active"),c.browser.ie<8&&e[0].blur()}))}})),e.data("btype",d)),e};a(document).on("mouseenter",".b."+i.join(",.b."),function(){j(this)}).on("click",'a[href="#"]',function(a){a.preventDefault()}),c.tabs=function(b){return c(a.extend(!0,{active:function(a){this.tabs.find("a:eq("+a+")").trigger("click")},onActive:a.noop,cache:{},getPanel:function(b){var c,d=b.getAttribute("panel"),e=this.cache;if(d){if(e[d])return e[d];if(c=0==d.indexOf("#")?a(d):this.$(d),c.length)return e[d]=c}},events:{"click >.tab a":function(b,c){if(this!=c.tab){var d=this,e=a(d),f=c.getPanel(this);f&&(c.tabs.find("a").each(function(a,b){if(b!==d){var e=c.getPanel(b);e&&e.hide()}}),f.show(),e.parent().addClass("active").siblings().removeClass("active"),c.tab=d,c.panel=f,c.onActive(d,f),b.preventDefault())}}},init:function(){this.tabs=this.el.children(".tab")},create:function(){this.active(0)}},b))},c.navs=function(b){return c(a.extend(!0,{events:{"click a":function(a,b){var c=b.isCart(a,this);return c?(b.toggle(this),!1):b.onClick(this)===!1?!1:void 0},"dblclick a":function(a,b){return b.isCart(a,this)||b.toggle(this),!1}},isCart:function(b,c){var d=a(b.target).hasClass("nav-cart");return d||(d=a(c).attr("href"),d=void 0===d||""===d||"#"===d),d},active:function(a){return a.jquery||(a=this.$(a)),this.$("a").removeClass("active"),a.addClass("active")},toggle:function(b,c,d){var e=a(b),f=this.openCls,d=void 0===d?this.speed:d,g=e.hasClass(f);0==e.length||c===!0&&g||0==e.next().length||(g||0==c?(e.removeClass(f).next().slideUp(d),this.onCollapse(e)):(e.addClass(f).next().slideDown(d),this.accordion&&this.toggle(e.parent().siblings().find(">."+this.openCls),!1),this.onExpand(e)))},speed:"fast",accordion:!1,openCls:"nav-open",cartCls:"f f-down",onExpand:a.noop,onCollapse:a.noop,onClick:a.noop,create:function(){this.el.addClass(this.cls).find("a+ul").prev().prepend('<b class="nav-cart '+this.cartCls+'"></b>')}},b))},window.UI=c}(jQuery),$.ajaxSetup({cache:!1,complete:function(){},data:{},error:function(){}}),$(document).ajaxSend(function(a,b,c){var d=c.target;if(d){var e=$(d).data("_xhr_");e&&e.abort(),$(d).data("_xhr_",b),"BUTTON"==d.tagName&&(d.disabled=!0)}var f=c.loadtip;f&&seajs.use("ui/notify",function(a){c.loadtip&&(c.loadtip=a.loading("string"==typeof f?{msg:f}:f))})}).ajaxSuccess(function(a,b){b.responseJSON&&999==b.responseJSON.errorCode}).ajaxComplete(function(a,b,c){var d=c.target;d&&"BUTTON"==d.tagName&&(d.disabled=!1,$(d).data("_xhr_",null));var e=c.loadtip;e&&(c.loadtip=0,e.close&&e.close())}),function(){if(!window.console){var a=window.console={};_.each("assert clear count debug dir dirxml error exception group groupCollapsed groupEnd info log markTimeline profile profileEnd table time timeEnd timeStamp trace warn".split(" "),function(b){a[b]=$.noop})}}(),UI.browser.ie<9&&_.each("abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output picture progress section summary template time video".split(" "),function(a){document.createElement(a)});