<div class="row m13">
    <h1>搜索框 <small>SearchBox</small></h1>
    <hr>
    <div id="searchBox"></div>
    <div class="toolbar">
        <span class="caption">steps,searchbox,toolbar,text可以使用.tiny来缩小。按钮使用.bs 来缩小</span>
        <span class="group">
            <b class="link b active">正常版</b>
            <b class="link b ac-tiny">迷你版</b>
        </span>
    </div>
    <blockquote class="care">
        2.0版本接口变咯，从jquery插件脱离了
    </blockquote>
    <textarea class="codemirror" mode="javascript" source="#searchBoxScript"></textarea>
    <div class="footman"></div>
</div>
<script id="searchBoxScript">
seajs.use(['ui/buttonset','ui/searchbox'], function(btnSet,searchbox) {
    var sb=searchbox({
        el:$('#searchBox'),
        placeholder: '在当前部门下查找',
        value: '',
        delay:0,//默认500毫秒,0表示不启用延迟
        //不带filter则不出现筛选
        filter: [{
            label: '基本信息',
            cls: 'w3',
            id: 'secret code'
        }, {
            label: '角色'
        }],
        search: function(value, filter) {
            //回车和点击清空按钮时触发
            console.log('search:',value, filter)
        },
        input: function(value, filter) {
            //键入内容时触发
            console.log('input:',value, filter)
        }
    });
    //缩小胶囊 .tiny，还适用于toolbar,text。按钮使用.bs 来缩小高度
    btnSet({
        el:sb.el.next().find('.group'),
        onselect: function(e, config, data) {
            sb.el.toggleClass('tiny',$(this).hasClass('ac-tiny'));
        }
    });
});
</script>
