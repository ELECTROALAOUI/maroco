<!DOCTYPE html>
<html class="noscroll">

<head>
    <meta charset="utf-8">
    <title>Maroco UI</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="../css/maroco.css">
    <link rel="stylesheet" href="../css/jqueryui/jquery-ui.css">
    <!--[if lt IE 8]>
    <link rel="stylesheet" href="../css/icomoon/ie7/ie7.css">
    <![endif]-->
    <script src="../js/maroco.js"></script>
    <script src="../js/ui/ui.js"></script>
    <style type="text/css">
    /* IE8 +*/
    
    header {
        position: fixed;
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        width: 100%;
        z-index: 3;
        border-bottom: 1px solid #d9d9d9;
        box-shadow: 0 0 5px rgba(100, 100, 100, .2);
    }
    #sideMenu,
    #mainbody {
        position: absolute;
        top: 48px;
        left: 0;
        bottom: 0;
        overflow: hidden;
        overflow-y: auto;
        background: #fff;
    }
    #sideMenu {
        border-right: 1px solid #e3e3e3;
        background-color: #f9f9f9;
    }
    #mainbody {
        left: 152px;
        right: 0;
    }
    .appframe {
        width: 100%;
        height: 100%;
        border: 0;
    }
    .nav li {
        *zoom: 1;
    }
    .nav a {}
    </style>
</head>

<body>
    <div class="row">
        <header class="linear">
            <div class="toolbar">
                <span class="caption">Maroco UI</span>
                <span class="wall"></span>
                <span class="rock">toolbar</span>
            </div>
        </header>
        <div class="w5 scroll" id="sideMenu">
            <ul class="nav m9">
                <li><a href="#!apps/user/main">用户管理</a>
                </li>
                <li><a href="#!layout">格栅系统</a>
                </li>
                <li><a href="#!text">文字排版</a>
                </li>
                <li><a href="#!icon">图标库</a>
                </li>
                <li><a href="#!btn">表单</a>
                </li>
                <li><a href="#!notify">提示</a>
                </li>
                <li><a href="#!ctable">表格</a>
                </li>
                <li><a href="#!css3"><i class="m2 f f-star"></i>CSS动画</a>
                </li>
                <li><a href="#!girlfriend"><i class="m2 f f-browse"></i>小工具</a>
                    <ul>
                        <li><a href="#!router">Router</a>
                        </li>
                        <li><a href="#!mock">假数据</a>
                        </li>
                    </ul>
                </li>
                <li><a href="#!vm"><i class="m2 f f-alert"></i>双向绑定</a>
                    <ul>
                        <li><a href="#!watch">数据监控(beta)</a>
                        </li>
                    </ul>
                </li>
                <li><a href="#!charts"><i class="m2 f f-alert"></i>图表</a>
                </li>
            </ul>
        </div>
        <div class="scroll" id="mainbody"></div>
    </div>
    <script>
    // BL BC CR TL TC TR
    seajs.use(['ui', 'ui/router'], function(UI, router) {
        //Nav
        $('.nav').navgoco();
        var mainbody = $('#mainbody'),
            sideMenu = $('#sideMenu'),
            menus = sideMenu.find('a'),
            legalMod = _.reduce(menus, function(memo, a) {
                memo.push(a.hash);
                return memo;
            }, []);
        //#
        router({
            '#apps/*': function(mod) {
                seajs.use('apps/' + mod, function(view) {
                    view.show({
                        container: mainbody.empty()
                    })
                });
                this.hashMap('apps/' + mod);
            },
            "#*": function(mod) {
                if (_.indexOf(legalMod, '#!' + mod) > -1) {
                    mainbody.empty().scrollTop(0).load(mod + '.html', function(res, state, xhr) {
                        if (state == 'error') {
                            mainbody.html(res);
                        }
                    });
                    this.hashMap(mod);
                } else {
                    location.hash = legalMod[0];
                }
            },
            hashMap: function(mod) {
                menus.parent().removeClass('active').end().filter('[href$="#!' + mod + '"]').parent().addClass('active');
            }
        });
        //IE6 fix
        if (UI.browser.ie < 8) {
            $(window).resize(function() {
                var h = $(this).height() - 48;
                mainbody.height(h).width($(this).width() - sideMenu.width());
                sideMenu.height(h);
            }).resize();
            //IE6 背景缓存
            if (UI.browser.ie == 6) {
                try {
                    document.execCommand("BackgroundImageCache", false, true);
                } catch (e) {}
            }
            $(window).resize();
        }

    });

    var previewCode = function() {
        return;
        $(function() {
            $('pre').each(function() {
                SyntaxHighlighter.highlight({
                    toolbar: false
                }, this)
            })
        });
    }
    </script>

    <!-- js 代码高亮  让IE8-下 jqery的animate报错
    <script src="../js/syntaxhighlighter/scripts/shCore.js"></script>
    <script src="../js/syntaxhighlighter/scripts/shBrushJScript.js"></script>
    <script src="../js/syntaxhighlighter/scripts/shBrushXml.js"></script>
    <link rel="stylesheet" href="../js/syntaxhighlighter/styles/shCoreDefault.css" />-->
    <!-- $ js 代码高亮 -->

</body>

</html>
