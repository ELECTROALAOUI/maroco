!function(o){function d(d,n){var e=d?o(this):n,a=e.attr("data-dropdown"),i=a?o(a):e.next(),s=e.hasClass("dropdown-open");if(d){if(o(d.target).hasClass("dropdown-ignore"))return;d.preventDefault(),d.stopPropagation()}else if(e!==n.target&&o(n.target).hasClass("dropdown-ignore"))return;r(),s||e.hasClass("dropdown-disabled")||(e.addClass("dropdown-open"),i.data("dropdown-trigger",e).show(),t(),i.trigger("show",{dropdown:i,trigger:e}))}function r(d){if(!d||3!=d.which){var r=d?o(d.target).parents().addBack():null;if(r&&r.is(".dropdown")){if(!r.is(".dropdown-menu"))return;if(!r.is("A"))return}o(document).find(".dropdown:visible").each(function(){var d=o(this);d.hide().removeData("dropdown-trigger").trigger("hide",{dropdown:d})}),o(document).find(".dropdown-open").removeClass("dropdown-open")}}function t(){var d=o(".dropdown:visible").eq(0),r=d.data("dropdown-trigger");if(0!==d.length&&r){var t=d.attr("position"),n=d.hasClass("tips")?"+6":"-1";t=t?o.trim(t).split(","):[],d.position({my:t[0]||"left top"+n,at:t[1]||"left bottom",of:t[2]||r})}}o.extend(o.fn,{dropdown:function(t,n){switch(t){case"show":return d(null,o(this)),o(this);case"hide":return r(),o(this);case"attach":return o(this).attr("data-dropdown",n);case"detach":return r(),o(this).removeAttr("data-dropdown");case"disable":return o(this).addClass("dropdown-disabled");case"enable":return r(),o(this).removeClass("dropdown-disabled")}}}),o(document).on("click.dropdown","[data-dropdown]",d),o(document).on("click.dropdown",r),o(window).on("resize.dropdown",t)}(jQuery);